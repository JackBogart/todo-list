(()=>{"use strict";function t(t){const e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new t.constructor(+t):"number"==typeof t||"[object Number]"===e||"string"==typeof t||"[object String]"===e?new Date(t):new Date(NaN)}function e(t,e){return(t<0?"-":"")+Math.abs(t).toString().padStart(e,"0")}function n(n,a){const r=t(n);if(isNaN(r.getTime()))throw new RangeError("Invalid time value");const i=a?.format??"extended",o=a?.representation??"complete";let s="",c="";const d="extended"===i?"-":"",l="extended"===i?":":"";if("time"!==o){const t=e(r.getDate(),2),n=e(r.getMonth()+1,2);s=`${e(r.getFullYear(),4)}${d}${n}${d}${t}`}if("date"!==o){const t=r.getTimezoneOffset();if(0!==t){const n=Math.abs(t);c=`${t<0?"+":"-"}${e(Math.trunc(n/60),2)}:${e(n%60,2)}`}else c="Z";s=`${s}${""===s?"":"T"}${[e(r.getHours(),2),e(r.getMinutes(),2),e(r.getSeconds(),2)].join(l)}${c}`}return s}const a={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function r(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const i={date:r({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:r({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:r({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},o={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function s(t){return(e,n)=>{let a;if("formatting"===(n?.context?String(n.context):"standalone")&&t.formattingValues){const e=t.defaultFormattingWidth||t.defaultWidth,r=n?.width?String(n.width):e;a=t.formattingValues[r]||t.formattingValues[e]}else{const e=t.defaultWidth,r=n?.width?String(n.width):t.defaultWidth;a=t.values[r]||t.values[e]}return a[t.argumentCallback?t.argumentCallback(e):e]}}function c(t){return(e,n={})=>{const a=n.width,r=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],i=e.match(r);if(!i)return null;const o=i[0],s=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(s)?function(t,e){for(let e=0;e<t.length;e++)if(t[e].test(o))return e}(s):function(t,e){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e].test(o))return e}(s);let d;return d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d,{value:d,rest:e.slice(o.length)}}}var d;const l={code:"en-US",formatDistance:(t,e,n)=>{let r;const i=a[t];return r="string"==typeof i?i:1===e?i.one:i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:i,formatRelative:(t,e,n,a)=>o[t],localize:{ordinalNumber:(t,e)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:s({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:s({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:t=>t-1}),month:s({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:s({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:s({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(d={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:t=>parseInt(t,10)},(t,e={})=>{const n=t.match(d.matchPattern);if(!n)return null;const a=n[0],r=t.match(d.parsePattern);if(!r)return null;let i=d.valueCallback?d.valueCallback(r[0]):r[0];return i=e.valueCallback?e.valueCallback(i):i,{value:i,rest:t.slice(a.length)}}),era:c({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:c({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:t=>t+1}),month:c({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:c({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:c({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let u={};function h(){return u}Math.pow(10,8);const m=6048e5,g=864e5;function p(e){const n=t(e);return n.setHours(0,0,0,0),n}function f(e){const n=t(e),a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return a.setUTCFullYear(n.getFullYear()),+e-+a}function w(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function k(e){const n=t(e);return function(t,e){const n=p(t),a=p(e),r=+n-f(n),i=+a-f(a);return Math.round((r-i)/g)}(n,function(e){const n=t(e),a=w(e,0);return a.setFullYear(n.getFullYear(),0,1),a.setHours(0,0,0,0),a}(n))+1}function y(e,n){const a=h(),r=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,i=t(e),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function b(t){return y(t,{weekStartsOn:1})}function T(e){const n=t(e),a=n.getFullYear(),r=w(e,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const i=b(r),o=w(e,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const s=b(o);return n.getTime()>=i.getTime()?a+1:n.getTime()>=s.getTime()?a:a-1}function D(e){const n=t(e),a=+b(n)-+function(t){const e=T(t),n=w(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),b(n)}(n);return Math.round(a/m)+1}function j(e,n){const a=t(e),r=a.getFullYear(),i=h(),o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=w(e,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const c=y(s,n),d=w(e,0);d.setFullYear(r,0,o),d.setHours(0,0,0,0);const l=y(d,n);return a.getTime()>=c.getTime()?r+1:a.getTime()>=l.getTime()?r:r-1}function v(e,n){const a=t(e),r=+y(a,n)-+function(t,e){const n=h(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=j(t,e),i=w(t,0);return i.setFullYear(r,0,a),i.setHours(0,0,0,0),y(i,e)}(a,n);return Math.round(r/m)+1}const M={y(t,n){const a=t.getFullYear(),r=a>0?a:1-a;return e("yy"===n?r%100:r,n.length)},M(t,n){const a=t.getMonth();return"M"===n?String(a+1):e(a+1,2)},d:(t,n)=>e(t.getDate(),n.length),a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(t,n)=>e(t.getHours()%12||12,n.length),H:(t,n)=>e(t.getHours(),n.length),m:(t,n)=>e(t.getMinutes(),n.length),s:(t,n)=>e(t.getSeconds(),n.length),S(t,n){const a=n.length,r=t.getMilliseconds();return e(Math.trunc(r*Math.pow(10,a-3)),n.length)}},S={G:function(t,e,n){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(t,e,n){if("yo"===e){const e=t.getFullYear(),a=e>0?e:1-e;return n.ordinalNumber(a,{unit:"year"})}return M.y(t,e)},Y:function(t,n,a,r){const i=j(t,r),o=i>0?i:1-i;return"YY"===n?e(o%100,2):"Yo"===n?a.ordinalNumber(o,{unit:"year"}):e(o,n.length)},R:function(t,n){return e(T(t),n.length)},u:function(t,n){return e(t.getFullYear(),n.length)},Q:function(t,n,a){const r=Math.ceil((t.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return e(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,n,a){const r=Math.ceil((t.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return e(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const a=t.getMonth();switch(e){case"M":case"MM":return M.M(t,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,n,a){const r=t.getMonth();switch(n){case"L":return String(r+1);case"LL":return e(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(t,n,a,r){const i=v(t,r);return"wo"===n?a.ordinalNumber(i,{unit:"week"}):e(i,n.length)},I:function(t,n,a){const r=D(t);return"Io"===n?a.ordinalNumber(r,{unit:"week"}):e(r,n.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getDate(),{unit:"date"}):M.d(t,e)},D:function(t,n,a){const r=k(t);return"Do"===n?a.ordinalNumber(r,{unit:"dayOfYear"}):e(r,n.length)},E:function(t,e,n){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,n,a,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return e(o,2);case"eo":return a.ordinalNumber(o,{unit:"day"});case"eee":return a.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"});default:return a.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,a,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return e(o,n.length);case"co":return a.ordinalNumber(o,{unit:"day"});case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"});default:return a.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,a){const r=t.getDay(),i=0===r?7:r;switch(n){case"i":return String(i);case"ii":return e(i,n.length);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const a=t.getHours();let r;switch(r=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const a=t.getHours();let r;switch(r=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){let e=t.getHours()%12;return 0===e&&(e=12),n.ordinalNumber(e,{unit:"hour"})}return M.h(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getHours(),{unit:"hour"}):M.H(t,e)},K:function(t,n,a){const r=t.getHours()%12;return"Ko"===n?a.ordinalNumber(r,{unit:"hour"}):e(r,n.length)},k:function(t,n,a){let r=t.getHours();return 0===r&&(r=24),"ko"===n?a.ordinalNumber(r,{unit:"hour"}):e(r,n.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):M.m(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getSeconds(),{unit:"second"}):M.s(t,e)},S:function(t,e){return M.S(t,e)},X:function(t,e,n){const a=t.getTimezoneOffset();if(0===a)return"Z";switch(e){case"X":return x(a);case"XXXX":case"XX":return C(a);default:return C(a,":")}},x:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"x":return x(a);case"xxxx":case"xx":return C(a);default:return C(a,":")}},O:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+P(a,":");default:return"GMT"+C(a,":")}},z:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+P(a,":");default:return"GMT"+C(a,":")}},t:function(t,n,a){return e(Math.trunc(t.getTime()/1e3),n.length)},T:function(t,n,a){return e(t.getTime(),n.length)}};function P(t,n=""){const a=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return 0===o?a+String(i):a+String(i)+n+e(o,2)}function x(t,n){return t%60==0?(t>0?"-":"+")+e(Math.abs(t)/60,2):C(t,n)}function C(t,n=""){const a=t>0?"-":"+",r=Math.abs(t);return a+e(Math.trunc(r/60),2)+n+e(r%60,2)}const N=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},L=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},q={p:L,P:(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],r=n[2];if(!r)return N(t,e);let i;switch(a){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;default:i=e.dateTime({width:"full"})}return i.replace("{{date}}",N(a,e)).replace("{{time}}",L(r,e))}},Y=/^D+$/,E=/^Y+$/,O=["D","DD","YY","YYYY"];function I(e){if(!(n=e,n instanceof Date||"object"==typeof n&&"[object Date]"===Object.prototype.toString.call(n)||"number"==typeof e))return!1;var n;const a=t(e);return!isNaN(Number(a))}const F=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,W=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,H=/^'([^]*?)'?$/,$=/''/g,A=/[a-zA-Z]/;function z(t){const e=t.match(H);return e?e[1].replace($,"'"):t}function Z(t,e,n){const a=function(t,e,n){return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:e,timeZoneName:t})}(t,n.timeZone,n.locale);return"formatToParts"in a?function(t,e){const n=t.formatToParts(e);for(let t=n.length-1;t>=0;--t)if("timeZoneName"===n[t].type)return n[t].value}(a,e):function(t,e){const n=t.format(e).replace(/\u200E/g,""),a=/ [\w-+ ]+$/.exec(n);return a?a[0].substr(1):""}(a,e)}const B={year:0,month:1,day:2,hour:3,minute:4,second:5},U={};function X(t,e,n,a,r,i,o){const s=new Date(0);return s.setUTCFullYear(t,e,n),s.setUTCHours(a,r,i,o),s}const J=36e5,G=6e4,Q={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function R(t,e,n){if(!t)return 0;let a,r,i=Q.timezoneZ.exec(t);if(i)return 0;if(i=Q.timezoneHH.exec(t),i)return a=parseInt(i[1],10),V(a)?-a*J:NaN;if(i=Q.timezoneHHMM.exec(t),i){a=parseInt(i[2],10);const t=parseInt(i[3],10);return V(a,t)?(r=Math.abs(a)*J+t*G,"+"===i[1]?-r:r):NaN}if(function(t){if(K[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),K[t]=!0,!0}catch(t){return!1}}(t)){e=new Date(e||Date.now());const a=n?e:function(t){return X(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}(e),r=_(a,t),i=n?r:function(t,e,n){let a=t.getTime()-e;const r=_(new Date(a),n);if(e===r)return e;a-=r-e;const i=_(new Date(a),n);return r===i?r:Math.max(r,i)}(e,r,t);return-i}return NaN}function _(t,e){const n=function(t,e){const n=function(t){if(!U[t]){const e=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n="06/25/2014, 00:00:00"===e||"‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00"===e;U[t]=n?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return U[t]}(e);return"formatToParts"in n?function(t,e){try{const n=t.formatToParts(e),a=[];for(let t=0;t<n.length;t++){const e=B[n[t].type];void 0!==e&&(a[e]=parseInt(n[t].value,10))}return a}catch(t){if(t instanceof RangeError)return[NaN];throw t}}(n,t):function(t,e){const n=t.format(e),a=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(a[3],10),parseInt(a[1],10),parseInt(a[2],10),parseInt(a[4],10),parseInt(a[5],10),parseInt(a[6],10)]}(n,t)}(t,e),a=X(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let r=t.getTime();const i=r%1e3;return r-=i>=0?i:1e3+i,a-r}function V(t,e){return-23<=t&&t<=23&&(null==e||0<=e&&e<=59)}const K={},tt={X:function(t,e,n){const a=et(n.timeZone,t);if(0===a)return"Z";switch(e){case"X":return rt(a);case"XXXX":case"XX":return at(a);default:return at(a,":")}},x:function(t,e,n){const a=et(n.timeZone,t);switch(e){case"x":return rt(a);case"xxxx":case"xx":return at(a);default:return at(a,":")}},O:function(t,e,n){const a=et(n.timeZone,t);switch(e){case"O":case"OO":case"OOO":return"GMT"+function(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),r=Math.floor(a/60),i=a%60;return 0===i?n+String(r):n+String(r)+e+nt(i,2)}(a,":");default:return"GMT"+at(a,":")}},z:function(t,e,n){switch(e){case"z":case"zz":case"zzz":return Z("short",t,n);default:return Z("long",t,n)}}};function et(t,e){const n=t?R(t,e,!0)/6e4:e?.getTimezoneOffset()??0;if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+t);return n}function nt(t,e){const n=t<0?"-":"";let a=Math.abs(t).toString();for(;a.length<e;)a="0"+a;return n+a}function at(t,e=""){const n=t>0?"-":"+",a=Math.abs(t);return n+nt(Math.floor(a/60),2)+e+nt(Math.floor(a%60),2)}function rt(t,e){return t%60==0?(t>0?"-":"+")+nt(Math.abs(t)/60,2):at(t,e)}function it(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const ot=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,st=36e5,ct=6e4,dt=2,lt={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:ot};function ut(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===t)return new Date(NaN);const n=null==e.additionalDigits?dt:Number(e.additionalDigits);if(2!==n&&1!==n&&0!==n)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))return new Date(t.getTime());if("number"==typeof t||"[object Number]"===Object.prototype.toString.call(t))return new Date(t);if("[object String]"!==Object.prototype.toString.call(t))return new Date(NaN);const a=function(t){const e={};let n,a=lt.dateTimePattern.exec(t);if(a?(e.date=a[1],n=a[3]):(a=lt.datePattern.exec(t),a?(e.date=a[1],n=a[2]):(e.date=null,n=t)),n){const t=lt.timeZone.exec(n);t?(e.time=n.replace(t[1],""),e.timeZone=t[1].trim()):e.time=n}return e}(t),{year:r,restDateString:i}=function(t,e){if(t){const n=lt.YYY[e],a=lt.YYYYY[e];let r=lt.YYYY.exec(t)||a.exec(t);if(r){const e=r[1];return{year:parseInt(e,10),restDateString:t.slice(e.length)}}if(r=lt.YY.exec(t)||n.exec(t),r){const e=r[1];return{year:100*parseInt(e,10),restDateString:t.slice(e.length)}}}return{year:null}}(a.date,n),o=function(t,e){if(null===e)return null;let n,a,r;if(!t||!t.length)return n=new Date(0),n.setUTCFullYear(e),n;let i=lt.MM.exec(t);if(i)return n=new Date(0),a=parseInt(i[1],10)-1,ft(e,a)?(n.setUTCFullYear(e,a),n):new Date(NaN);if(i=lt.DDD.exec(t),i){n=new Date(0);const t=parseInt(i[1],10);return function(t,e){if(e<1)return!1;const n=pt(t);return!(n&&e>366)&&!(!n&&e>365)}(e,t)?(n.setUTCFullYear(e,0,t),n):new Date(NaN)}if(i=lt.MMDD.exec(t),i){n=new Date(0),a=parseInt(i[1],10)-1;const t=parseInt(i[2],10);return ft(e,a,t)?(n.setUTCFullYear(e,a,t),n):new Date(NaN)}if(i=lt.Www.exec(t),i)return r=parseInt(i[1],10)-1,wt(r)?ht(e,r):new Date(NaN);if(i=lt.WwwD.exec(t),i){r=parseInt(i[1],10)-1;const t=parseInt(i[2],10)-1;return wt(r,t)?ht(e,r,t):new Date(NaN)}return null}(i,r);if(null===o||isNaN(o.getTime()))return new Date(NaN);if(o){const t=o.getTime();let n,r=0;if(a.time&&(r=function(t){let e,n,a=lt.HH.exec(t);if(a)return e=parseFloat(a[1].replace(",",".")),kt(e)?e%24*st:NaN;if(a=lt.HHMM.exec(t),a)return e=parseInt(a[1],10),n=parseFloat(a[2].replace(",",".")),kt(e,n)?e%24*st+n*ct:NaN;if(a=lt.HHMMSS.exec(t),a){e=parseInt(a[1],10),n=parseInt(a[2],10);const t=parseFloat(a[3].replace(",","."));return kt(e,n,t)?e%24*st+n*ct+1e3*t:NaN}return null}(a.time),null===r||isNaN(r)))return new Date(NaN);if(a.timeZone||e.timeZone){if(n=R(a.timeZone||e.timeZone,new Date(t+r)),isNaN(n))return new Date(NaN)}else n=it(new Date(t+r)),n=it(new Date(t+r+n));return new Date(t+r+n)}return new Date(NaN)}function ht(t,e,n){e=e||0,n=n||0;const a=new Date(0);a.setUTCFullYear(t,0,4);const r=7*e+n+1-(a.getUTCDay()||7);return a.setUTCDate(a.getUTCDate()+r),a}const mt=[31,28,31,30,31,30,31,31,30,31,30,31],gt=[31,29,31,30,31,30,31,31,30,31,30,31];function pt(t){return t%400==0||t%4==0&&t%100!=0}function ft(t,e,n){if(e<0||e>11)return!1;if(null!=n){if(n<1)return!1;const a=pt(t);if(a&&n>gt[e])return!1;if(!a&&n>mt[e])return!1}return!0}function wt(t,e){return!(t<0||t>52||null!=e&&(e<0||e>6))}function kt(t,e,n){return!(t<0||t>=25||null!=e&&(e<0||e>=60)||null!=n&&(n<0||n>=60))}const yt=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function bt(e,n,a,r){return function(e,n,a={}){const r=(n=String(n)).match(yt);if(r){const t=ut(a.originalDate||e,a);n=r.reduce((function(e,n){if("'"===n[0])return e;const r=e.indexOf(n),i="'"===e[r-1],o=e.replace(n,"'"+tt[n[0]](t,n,a)+"'");return i?o.substring(0,r-1)+o.substring(r+1):o}),n)}return function(e,n,a){const r=h(),i=a?.locale??r.locale??l,o=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=t(e);if(!I(c))throw new RangeError("Invalid time value");let d=n.match(W).map((t=>{const e=t[0];return"p"===e||"P"===e?(0,q[e])(t,i.formatLong):t})).join("").match(F).map((t=>{if("''"===t)return{isToken:!1,value:"'"};const e=t[0];if("'"===e)return{isToken:!1,value:z(t)};if(S[e])return{isToken:!0,value:t};if(e.match(A))throw new RangeError("Format string contains an unescaped latin alphabet character `"+e+"`");return{isToken:!1,value:t}}));i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const u={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return d.map((t=>{if(!t.isToken)return t.value;const r=t.value;return(!a?.useAdditionalWeekYearTokens&&function(t){return E.test(t)}(r)||!a?.useAdditionalDayOfYearTokens&&function(t){return Y.test(t)}(r))&&function(t,e,n){const a=function(t,e,n){const a="Y"===t[0]?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(t,e,n);if(console.warn(a),O.includes(t))throw new RangeError(a)}(r,n,String(e)),(0,S[r[0]])(c,r,i.localize,u)})).join("")}(e,n,a)}(function(t,e,n){const a=R(e,t=ut(t,n),!0),r=new Date(t.getTime()-a),i=new Date(0);return i.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),i.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),i}(e,n,{timeZone:(r={...r,timeZone:n,originalDate:e}).timeZone}),a,r)}const Tt=["low","medium","high"];class Dt{#t;#e;#n;#a;#r;constructor(t,e,n,a){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.title=t,this.desc=e,this.priority=n,this.dueDate=a,this.#r=r}get title(){return this.#t}set title(t){this.#t=String(t)}get desc(){return this.#e}set desc(t){this.#e=String(t)}get priority(){return this.#n}set priority(t){if(!Tt.includes(String(t).toLowerCase()))throw new Error("Invalid priority level");this.#n=t}get completed(){return this.#r}toggleCompleted(){this.#r=!this.completed}get dueDate(){return this.#a}set dueDate(t){const e=Intl.DateTimeFormat().resolvedOptions().timeZone;this.#a=new Date(function(t,e,n){if("string"==typeof t&&!t.match(ot))return ut(t,{...n,timeZone:e});const a=X((t=ut(t,n)).getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()).getTime(),r=R(e,new Date(a));return new Date(a+r)}(t,e))}getLocalDueDate(){const t=Intl.DateTimeFormat().resolvedOptions().timeZone;return bt(this.dueDate,t,"MMM dd, yyyy")}toJSON(){return{title:this.#t,desc:this.#e,priority:this.priority,dueDate:this.dueDate,completed:this.#r}}static fromJSON(t){return new Dt(t.title,t.desc,t.priority,t.dueDate,t.completed)}}class jt{#t;#i;constructor(t){this.title=t,this.#i=[]}get title(){return this.#t}set title(t){this.#t=String(t)}get tasks(){return this.#i}addTask(t){if(!(t instanceof Dt))throw new Error("Invalid task object");this.#i.push(t)}createAndAddTask(t,e,n,a){const r=new Dt(t,e,n,a);return this.addTask(r),r}deleteTask(t){this.#i.splice(t,1)}getTask(t){return this.#i[t]}toJSON(){return{title:this.#t,tasks:this.#i.map((t=>t.toJSON()))}}static fromJSON(t){const e=new jt(t.title);return e.#i=t.tasks.map((t=>Dt.fromJSON(t))),e}}class vt{#o;constructor(){this.#o=[],this.init()}init(){try{const t="__local_storage_test__";localStorage.setItem(t,t),localStorage.removeItem(t)}catch(t){console.log(t)}localStorage.getItem("projects")&&this.#s()}#s(){const t=JSON.parse(localStorage.getItem("projects"));this.#o=t.map((t=>jt.fromJSON(t)))}createProject(t){const e=new jt(t);return this.#o.push(e),e}getProject(t){return this.#o[t]}deleteProject(t){this.#o.splice(t,1)}get projects(){return this.#o}saveToLocal(){localStorage.setItem("projects",JSON.stringify(this.#o.map((t=>t.toJSON()))))}}class Mt{#c;#i;#d;#l;#u;#h;#m;#g;#p;#f;#w;#k;#y;#b;#T;#D;#j;#v;#M;#S;constructor(){this.#c=document.querySelector(".sidebar"),this.#i=document.querySelector(".tasks"),this.#d=document.querySelector(".add-task"),this.#u=document.querySelector(".task-cancel"),this.#l=document.querySelector(".task-dialog"),this.#h=document.querySelector(".task-form"),this.#m=document.querySelector("#task-title"),this.#g=document.querySelector("#task-desc"),this.#p=document.querySelector("#task-priority"),this.#f=document.querySelector("#task-date"),this.#w=document.querySelector("#task-mode"),this.#k=Intl.DateTimeFormat().resolvedOptions().timeZone,this.#y=document.querySelector(".add-project"),this.#b=document.querySelector(".project-dialog"),this.#T=document.querySelector(".project-form"),this.#D=document.querySelector("#project-title"),this.#j=document.querySelector(".project-cancel"),this.#v=document.querySelector("#project-mode"),this.#M=document.querySelector(".project-name"),this.#S=document.querySelector("#project-index")}#P(t){const e=document.createElement("div");e.classList.add("task");const n=this.#x(t),a=this.#C(t);return e.appendChild(n),e.appendChild(a),e}init(){document.querySelector(".header-date").textContent=this.#N(Date.now()),this.#f.setAttribute("min",n(Date.now(),{representation:"date"}))}#x(t){const e=document.createElement("div");e.classList.add("task-min");const n=document.createElement("button");n.classList.add("clickable-btn",t.completed?"checked":"unchecked");const a=document.createElement("span");a.classList.add("title"),a.textContent=t.title;const r=document.createElement("div");r.classList.add("task-left"),r.appendChild(n),r.appendChild(a);const i=document.createElement("div");i.classList.add("task-right");const o=document.createElement("span");o.classList.add("date"),o.textContent=this.#N(t.dueDate);const s=document.createElement("button");s.classList.add("clickable-btn","edit");const c=document.createElement("button");c.classList.add("clickable-btn","delete");const d=document.createElement("button");return d.classList.add("clickable-btn","drop-down"),i.appendChild(o),i.appendChild(s),i.appendChild(c),i.appendChild(d),e.appendChild(r),e.appendChild(i),e}#C(t){const e=document.createElement("div");e.classList.add("task-details");const n=document.createElement("p");n.textContent=t.desc;const a=document.createElement("div");return a.textContent=t.priority,a.classList.add(`${t.priority}`,"priority"),e.appendChild(n),e.appendChild(a),e}#L(){const t=this.#i.querySelectorAll(".task");let e=0;t.forEach((t=>{t.dataset.index=e,e++}))}#q(){const t=this.#c.querySelectorAll(".project:not(.today)");let e=0;t.forEach((t=>{t.dataset.index=e,e++}))}#N(t){return bt(t,this.#k,"MMM dd, yyyy")}createAndAddTask(t,e){const n=this.#P(t);n.dataset.index=e,this.#i.appendChild(n)}#Y(t,e,n){const a=this.#P(t);a.dataset.projectIndex=e,a.dataset.index=n,this.#i.appendChild(a)}deleteTask(t){const e=this.#i.querySelector(`.task[data-index="${t}"]`);this.#i.removeChild(e),this.#L()}editTask(t){const e=this.#i.querySelector(`.task[data-index="${t.mode}"]`),n=e.querySelector(".title"),a=e.querySelector(".date"),r=e.querySelector("p"),i=e.querySelector(".priority");n.textContent=t.title,a.textContent=this.#N(t.dueDate),r.textContent=t.description,i.classList=`priority ${t.priority}`,i.textContent=t.priority}toggleTaskDetails(t){const e=this.#i.querySelector(`.task[data-index="${t}"]`),n=null===e.querySelector(".drop-down")?e.querySelector(".drop-up"):e.querySelector(".drop-down"),a=e.querySelector(".task-details");n.classList.contains("drop-down")?(n.classList.remove("drop-down"),n.classList.add("drop-up"),a.style.display="flex"):(n.classList.remove("drop-up"),n.classList.add("drop-down"),a.style.display="none")}toggleTaskCompleteMarker(t){const e=this.#i.querySelector(`.task[data-index="${t}"]`),n=null===e.querySelector(".unchecked")?e.querySelector(".checked"):e.querySelector(".unchecked");n.classList.contains("unchecked")?(n.classList.remove("unchecked"),n.classList.add("checked")):(n.classList.remove("checked"),n.classList.add("unchecked"))}toggleTaskCompleteMarkerToday(t,e){const n=this.#i.querySelector(`.task[data-project-index="${t}"][data-index="${e}"]`),a=null===n.querySelector(".unchecked")?n.querySelector(".checked"):n.querySelector(".unchecked");a.classList.contains("unchecked")?(a.classList.remove("unchecked"),a.classList.add("checked")):(a.classList.remove("checked"),a.classList.add("unchecked"))}populateTaskDialog(t,e){this.#w.value=String(e),this.#m.value=t.title,this.#g.value=t.desc,this.#p.value=t.priority,this.#f.value=n(t.dueDate,{representation:"date"}),this.#S.value=""}populateTodayTaskDialog(t,e,n){this.populateTaskDialog(t,n),this.#S.value=String(e)}populateProjectDialog(t,e){this.#v.value=String(e),this.#D.value=t.title}createProject(t,e){const n=document.createElement("li");n.classList.add("project"),n.dataset.index=e;const a=document.createElement("button");a.type="button",a.classList.add("project-btn");const r=document.createElement("span");r.textContent=t;const i=document.createElement("div");i.classList.add("project-controls");const o=document.createElement("button");o.classList.add("clickable-btn","edit");const s=document.createElement("button");s.classList.add("clickable-btn","delete"),i.appendChild(o),i.appendChild(s),a.appendChild(r),a.appendChild(i),n.appendChild(a),document.querySelector(".sidebar > ul").appendChild(n)}getToday(t){this.#i.replaceChildren();const e=n(Date.now(),{representation:"date"});for(let a=0;a<t.length;a++)for(let r=0;r<t[a].tasks.length;r++)n(t[a].getTask(r).dueDate,{representation:"date"})==e&&this.#Y(t[a].getTask(r),a,r);this.#M.textContent="Today",this.#d.classList.add("hide-task-btn");const a=document.querySelector(".active");null!==a&&a.classList.remove("active"),document.querySelector('.project[data-index="-1"]').classList.add("active")}getProject(t,e){this.#i.replaceChildren();for(let e=0;e<t.tasks.length;e++)this.createAndAddTask(t.tasks[e],e);this.#M.textContent=t.title,this.#d.classList.remove("hide-task-btn");const n=document.querySelector(".active");null!==n&&n.classList.remove("active"),document.querySelector(`.project[data-index="${e}"]`).classList.add("active")}editProject(t){const e=this.#c.querySelector(`.project[data-index="${t.mode}"]`);e.querySelector(".project-btn").textContent=t.title,e.classList.contains("active")&&(this.#M.textContent=t.title)}deleteProject(t){this.#c.querySelector(`.project[data-index="${t}"]`).remove(),this.#q()}showTaskDialog(){null!==document.querySelector(".active")&&(""===this.#f.value&&(this.#f.value=n(Date.now(),{representation:"date"})),this.#l.showModal())}closeTaskDialog(){this.#l.close()}clearTaskForm(){this.#h.reset()}showProjectDialog(){this.#b.showModal()}closeProjectDialog(){this.#b.close()}clearProjectForm(){this.#T.reset()}bindSelectProject(t){this.#c.addEventListener("click",(e=>{if(e.target.classList.contains("project-btn")){const n=parseInt(e.target.closest(".project").dataset.index);t(n)}}))}bindOpenTaskDialog(t){this.#d.addEventListener("click",t)}bindEditTaskDialog(t){this.#i.addEventListener("click",(e=>{if(e.target.classList.contains("edit")){const n=e.target.closest(".task"),a=parseInt(n.dataset.index),r=n.dataset.projectIndex?parseInt(n.dataset.projectIndex):null;t(r,a)}}))}bindCloseTaskDialog(t){this.#u.addEventListener("click",t)}bindTaskSubmit(t){this.#h.addEventListener("submit",(()=>{const e={mode:this.#w.value,title:this.#m.value,description:this.#g.value,priority:this.#p.value,dueDate:this.#f.value,projectIndex:this.#S.value};t(e)}))}bindDeleteTask(t,e){this.#i.addEventListener("click",(n=>{if(n.target.classList.contains("delete")){const a=parseInt(n.target.closest(".task").dataset.index);if(document.querySelector(".active").classList.contains("today")){const t=parseInt(n.target.closest(".task").dataset.projectIndex);e(t,a)}else t(a)}}))}bindToggleTaskDetails(t){this.#i.addEventListener("click",(e=>{if(e.target.classList.contains("drop-down")||e.target.classList.contains("drop-up")){const n=parseInt(e.target.closest(".task").dataset.index);t(n)}}))}bindToggleTaskCompleteMarker(t,e){this.#i.addEventListener("click",(n=>{if(n.target.classList.contains("unchecked")||n.target.classList.contains("checked")){const a=parseInt(n.target.closest(".task").dataset.index);if(document.querySelector(".active").classList.contains("today")){const t=parseInt(n.target.closest(".task").dataset.projectIndex);e(t,a)}else t(a)}}))}bindOpenProjectDialog(t){this.#y.addEventListener("click",t)}bindCloseProjectDialog(t){this.#j.addEventListener("click",t)}bindProjectSubmit(t){this.#T.addEventListener("submit",(()=>{const e={mode:this.#v.value,title:this.#D.value};t(e)}))}bindEditProjectDialog(t){this.#c.addEventListener("click",(e=>{if(e.target.classList.contains("edit")){const n=parseInt(e.target.closest(".project").dataset.index);t(n)}}))}bindDeleteProject(t){this.#c.addEventListener("click",(e=>{if(e.target.classList.contains("delete")){const n=parseInt(e.target.closest(".project").dataset.index);t(n)}}))}}(new class{#E;#O;#I;constructor(){this.#E=null,this.#O=new vt,this.#I=new Mt,this.#I.bindSelectProject(this.handleSelectProject.bind(this)),this.#I.bindDeleteTask(this.handleDeleteTask.bind(this),this.handleDeleteTodayTask.bind(this)),this.#I.bindOpenTaskDialog(this.handleOpenTaskDialog.bind(this)),this.#I.bindCloseTaskDialog(this.handleCloseTaskDialog.bind(this)),this.#I.bindTaskSubmit(this.handleTaskSubmit.bind(this)),this.#I.bindEditTaskDialog(this.handleEditTaskDialog.bind(this)),this.#I.bindToggleTaskDetails(this.handleToggleTaskDetails.bind(this)),this.#I.bindToggleTaskCompleteMarker(this.handleToggleCompleteMarker.bind(this),this.handleToggleCompleteMarkerToday.bind(this)),this.#I.bindOpenProjectDialog(this.handleOpenProjectDialog.bind(this)),this.#I.bindCloseProjectDialog(this.handleCloseProjectDialog.bind(this)),this.#I.bindProjectSubmit(this.handleProjectSubmit.bind(this)),this.#I.bindEditProjectDialog(this.handleEditProjectDialog.bind(this)),this.#I.bindDeleteProject(this.handleDeleteProject.bind(this))}run(){if(this.#I.init(),0!==this.#O.projects.length)for(let t=0;t<this.#O.projects.length;t++){const e=this.#O.getProject(t);this.#I.createProject(e.title,t);for(let t=0;t<e.tasks.length;t++)this.#I.createAndAddTask(e.getTask(t),t)}else this.#F("TODO"),this.#E.createAndAddTask("Welcome!","To get started try selecting the default todo list provided on the left. Once selected a button will appear on the page that you can use to create your own custom tasks for that list!","low",n(Date.now(),{representation:"date"})),this.#E.createAndAddTask("Complete your first task!","Once you've finished your first task you can click the checkbox next to a task to mark it as complete. A completed task will not be deleted unless you opt to.","high","2030-01-01"),this.#E.createAndAddTask("Editing tasks","Made a spelling error? Try clicking the pencil icon, if everyone was perfect we wouldn't need erasers.","medium","2030-01-01");this.#W(-1),this.#O.saveToLocal()}#F(t){this.#E=this.#O.createProject(t),this.#I.createProject(t,this.#O.projects.length-1)}#W(t){-1===t?(this.#E=null,this.#I.getToday(this.#O.projects)):(this.#E=this.#O.getProject(t),this.#I.getProject(this.#E,t))}#H(t,e){e.title=t.title,e.desc=t.description,e.priority=t.priority,e.dueDate=t.dueDate}#$(t){this.#O.getProject(t.mode).title=t.title}handleSelectProject(t){this.#W(t)}handleOpenTaskDialog(){this.#I.clearTaskForm(),this.#I.showTaskDialog()}handleEditTaskDialog(t,e){null===t?this.#I.populateTaskDialog(this.#E.getTask(e),e):this.#I.populateTodayTaskDialog(this.#O.getProject(t).getTask(e),t,e),this.#I.showTaskDialog()}handleCloseTaskDialog(){this.#I.closeTaskDialog()}handleOpenProjectDialog(){this.#I.clearProjectForm(),this.#I.showProjectDialog()}handleCloseProjectDialog(){this.#I.closeProjectDialog()}handleProjectSubmit(t){""===t.mode?this.#F(t.title):(this.#$(t),this.#I.editProject(t)),this.#O.saveToLocal()}handleEditProjectDialog(t){this.#I.populateProjectDialog(this.#O.getProject(t),t),this.#I.showProjectDialog()}handleDeleteProject(t){const e=this.#O.getProject(t);this.#O.deleteProject(t),this.#E!==e&&null!==this.#E||this.#W(-1),this.#I.deleteProject(t),this.#O.saveToLocal()}handleTaskSubmit(t){if(""===t.mode){const e=this.#E.createAndAddTask(t.title,t.description,t.priority,t.dueDate);this.#I.createAndAddTask(e,this.#E.tasks.length-1)}else if(""===t.projectIndex){const e=this.#E.getTask(t.mode);this.#H(t,e),this.#I.editTask(t)}else{const e=this.#O.getProject(t.projectIndex).getTask(t.mode);this.#H(t,e),this.#W(-1)}this.#O.saveToLocal()}handleDeleteTask(t){this.#E.deleteTask(t),this.#O.saveToLocal(),this.#I.deleteTask(t)}handleToggleTaskDetails(t){this.#I.toggleTaskDetails(t)}handleToggleCompleteMarker(t){this.#E.getTask(t).toggleCompleted(),this.#O.saveToLocal(),this.#I.toggleTaskCompleteMarker(t)}handleDeleteTodayTask(t,e){this.#O.getProject(t).deleteTask(e),this.#O.saveToLocal(),this.#W(-1)}handleToggleCompleteMarkerToday(t,e){this.#O.getProject(t).getTask(e).toggleCompleted(),this.#O.saveToLocal(),this.#I.toggleTaskCompleteMarkerToday(t,e)}}).run()})();
//# sourceMappingURL=main.92abb0efb4434ec77963.js.map